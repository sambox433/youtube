<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Player YouTube Autom√°tico com Som (Desbloqueado)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
            background: #111;
            color: #fff;
        }
        #player {
            margin: 20px auto;
            width: 640px;
            height: 360px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(255,0,0,0.3);
        }
    </style>
</head>
<body>
    <h1>üé¨ YouTube Player Autom√°tico com Som</h1>
    <div id="player"></div>

    <script>
        let player;

        // Fun√ß√£o que "desbloqueia" o √°udio criando um som vazio
        function desbloquearSomAutomaticamente() {
            try {
                const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                const buffer = audioCtx.createBuffer(1, 1, 22050);
                const source = audioCtx.createBufferSource();
                source.buffer = buffer;
                source.connect(audioCtx.destination);
                source.start(0);
                console.log("üîä √Åudio desbloqueado via AudioContext.");
            } catch (e) {
                console.warn("Falha ao desbloquear som:", e);
            }
        }

        // Chama o desbloqueio o mais cedo poss√≠vel
        desbloquearSomAutomaticamente();

        // Carrega a API do YouTube
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        document.head.appendChild(tag);

        // Cria o player
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                videoId: 'DYXm77Xo8JI', // substitua pelo ID do v√≠deo desejado
                host: 'https://www.youtube-nocookie.com',
                playerVars: {
                    autoplay: 1,
                    controls: 1,
                    playsinline: 1,
                    enablejsapi: 1,
                    mute: 0 // som ativado
                },
                events: {
                    'onReady': onPlayerReady,
                    'onError': onPlayerError
                }
            });
        }

        function onPlayerReady(event) {
            // For√ßa o play e garante som
            setTimeout(() => {
                event.target.unMute();
                event.target.setVolume(100);
                event.target.playVideo();
                console.log("‚ñ∂Ô∏è V√≠deo iniciado automaticamente com som!");
            }, 500);
        }

        function onPlayerError(event) {
            console.error("Erro do YouTube:", event.data);
        }
    </script>
</body>
</html>
